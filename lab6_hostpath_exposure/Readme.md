## Сценарий 6: Неправильное монтирование конфиденциальных данных (HostPath Exposure)
**Уровень сложности:** продвинутый  
**Описание**:
В этом квесте демонстрируется, как монтирование локальной директории с конфиденциальными данными (например, с файлом секретов) в контейнер приводит к утечке информации. Студент должен обнаружить, что злоумышленник, получив доступ к контейнеру, может прочитать содержимое этих файлов, а затем исправить ситуацию.

### Запуск
- Сборка
```sh
docker-compose up --build
```
- После запуска войдите в контейнер::
```
docker ps
docker exec -it <container_id> sh
```
- Внутри контейнера перейдите в папку /app/sensitive и посмотрите содержимое:
```sh
cd /app/sensitive
cat secrets.txt
```
– Вы увидите конфиденциальные данные, что свидетельствует об утечке.
### Фикс

Чтобы защитить данные, можно:

- Монтировать директорию в режиме «только для чтения».

- Перенести конфиденциальные данные в безопасное хранилище, а не хранить в открытом виде.

Изменённый docker-compose.yml:
```yml
version: "3.8"
services:
  app:
    build: .
    # Монтируем директорию в режиме read-only, чтобы данные нельзя было изменить или прочитать злоумышленнику из контейнера, если доступ ограничен
    volumes:
      - type: bind
        source: "./sensitive"
        target: "/app/sensitive"
        read_only: true
```

- Пересоберите и перезапустите:
```sh
docker-compose up --build
```
Теперь внутри контейнера данные доступны только для чтения. Дополнительно рекомендуется хранить секреты в переменных окружения или использовать Docker Secrets.
